(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{401:function(t,e,n){var content=n(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(61).default)("28fdb6a0",content,!0,{sourceMap:!1})},431:function(t,e,n){"use strict";n(401)},432:function(t,e,n){var r=n(60)(!1);r.push([t.i,'.pax-bold[data-v-6ef34104]{font-family:"bold",sans-serif}.pax-semibold[data-v-6ef34104],label[data-v-6ef34104]{font-family:"semibold",sans-serif}.pax-regular[data-v-6ef34104]{font-family:"regular",sans-serif}input#combineDays[data-v-6ef34104]{width:75px}label[data-v-6ef34104]{opacity:1;position:inherit;color:#fff;font-size:25px}',""]),t.exports=r},446:function(t,e,n){"use strict";n.r(e);var r=n(98);var o=n(126),c=n(73);function l(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(3),m=(n(23),n(37),{data:function(){return{combineDays:7,applications:[],cache:[],chartOptions:{title:{text:"Applications"},xAxis:{type:"datetime"},yAxis:{min:0,title:{text:"Number of applications"}},series:[{data:[],name:"Total Applications",color:"black",marker:{symbol:"circle"}},{data:[],name:"Accepted Applications",color:"green",marker:{symbol:"circle"}},{data:[],name:"Denied Applications",color:"red",marker:{symbol:"circle"}}]}}},mounted:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/applications");case 2:t.applications=e.sent.sort((function(a,b){return a.id-b.id})),t.recalculate();case 4:case"end":return e.stop()}}),e)})))()},methods:{recalculate:function(){this.chartOptions.series[0].data=this.calculateSeries(this.applications,0),this.chartOptions.series[1].data=this.calculateSeries(this.applications.filter((function(t){return 3===t.status})),1),this.chartOptions.series[2].data=this.calculateSeries(this.applications.filter((function(t){return 2===t.status})),2)},calculateSeries:function(t,e){return this.cache[e]&&0!==this.cache[e].length||(this.cache[e]=this.aggregateSeries(t)),this.combineSeries(l(this.cache[e]))},aggregateSeries:function(t){for(var e=this,n=[],r=function(r){var o=e.toISODate(r);n.push([r,t.filter((function(t){return e.toISODate(t.timestamp)===o})).length])},o=this.applications[this.applications.length-1].timestamp;o>this.applications[0].timestamp;o-=864e5)r(o);return n.reverse(),n},combineSeries:function(t){for(var e=[];t.length>0;){for(var n=t.pop(),r=[n[0],n[1]],i=1;i<this.combineDays&&0!==t.length;i++)r[1]+=t.pop()[1];e.push(r)}return e},toISODate:function(t){return new Date(t).toISOString().substring(0,10)}},watch:{combineDays:function(){this.recalculate()}}}),h=(n(431),n(36)),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wrapper"}},[n("label",{attrs:{for:"combineDays"}},[t._v("Combine days:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.combineDays,expression:"combineDays"}],attrs:{id:"combineDays",type:"number",min:"1"},domProps:{value:t.combineDays},on:{input:function(e){e.target.composing||(t.combineDays=e.target.value)}}}),t._v(" "),n("highchart",{attrs:{options:t.chartOptions}})],1)}),[],!1,null,"6ef34104",null);e.default=component.exports}}]);